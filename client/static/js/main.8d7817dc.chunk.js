(this["webpackJsonpvoicemail-management"]=this["webpackJsonpvoicemail-management"]||[]).push([[0],{122:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),c=a(48),i=a(41),s=a.n(i),u=(a(122),a(82)),d=a(31),m=a(28),g=a(52),h=a(42),v=a(43),p=a(51),f=a(49),E=a(172),b=a(156),P=a(158),y=a(160),O=a(161),w=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),j=function(e){var t=e.title,a=w();return r.a.createElement("div",{className:a.root},r.a.createElement(P.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement(O.a,{variant:"h6",className:a.title},t))))};j.defaultProps={title:""};var x=j,C=a(77),k=a(78),S=a(162),M=a(163),R=a(164),F=a(165),I=a(127),T=a(166),D=a(167),z=a(168),K=a(169),B=a(171),G=a(176);function N(){var e=Object(C.a)(["\n  min-height: 100px;\n  width: 100%;\n  padding: 20px 0;\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"]);return N=function(){return e},e}var _=Object(b.a)({table:{minWidth:650}}),A=function(e,t,a,n){return 0===n?r.a.createElement(M.a,null,r.a.createElement(R.a,{colSpan:Object(m.size)(t)},r.a.createElement(W,null,r.a.createElement("div",null,r.a.createElement(G.a,{style:{color:"gray",fontSize:50}})),r.a.createElement("div",null,r.a.createElement("p",null,"No data"))))):e.map((function(e){return r.a.createElement(M.a,{key:e[a]},t.map((function(t,a){var n=a;return r.a.createElement(R.a,{key:n},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=t.dataKey,r=t.formatter;return r&&Object(m.isFunction)(r)?r(n,e,a):e[n]}(e,t,a))})))}))},H=function(e){var t=e.columns,a=e.data,n=e.keyId,o=e.loading,l=e.loadingText,c=e.handleChangePage,i=e.handleChangeRowsPerPage,s=e.rowsPerPage,u=e.page,d=e.count,m=_();return o?function(e){return r.a.createElement(W,null,r.a.createElement("div",null,r.a.createElement(S.a,{size:50})),r.a.createElement("div",null,r.a.createElement("p",null,e)))}(l):r.a.createElement(F.a,{component:I.a},r.a.createElement(T.a,{className:m.table,"aria-label":"simple table"},r.a.createElement(D.a,null,r.a.createElement(M.a,null,t.map((function(e,t){var a="".concat(e.text,"+").concat(t);return r.a.createElement(R.a,{key:a},e.text)})))),r.a.createElement(z.a,null,A(a,t,n,d)),r.a.createElement(K.a,null,r.a.createElement(M.a,null,r.a.createElement(B.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:d,rowsPerPage:s,page:u,onChangePage:c,onChangeRowsPerPage:i})))))},V=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value,10);n.setState({rowsPerPage:t,page:0})},n.getData=function(){var e=n.state,t=e.rowsPerPage,a=e.page,r=n.props.data;return t>0?r.slice(a*t,a*t+t):r},n.state={page:0,rowsPerPage:5},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.columns,a=e.keyId,n=e.loading,o=e.loadingText,l=e.data,c=this.state,i=c.page,s=c.rowsPerPage,u=this.getData();return r.a.createElement(H,{columns:t,data:u,count:Object(m.size)(l),keyId:a,loading:n,loadingText:o,handleChangePage:this.handleChangePage,handleChangeRowsPerPage:this.handleChangeRowsPerPage,page:i,rowsPerPage:s})}}]),a}(n.Component);V.defaultProps={loading:!1,loadingText:"Loading ..."};var W=k.a.div(N()),J=V,L=a(85),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.indexOf("@")){var t=e.split("@"),a=Object(L.a)(t,1),n=a[0];return n}return e},$=[{text:"Status",dataKey:"folder"},{text:"From",dataKey:"from",formatter:function(e,t){var a=t.from;return U(a)}},{text:"To",dataKey:"to",formatter:function(e,t){var a=t.to;return U(a)}},{text:"Duration",dataKey:"length",formatter:function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date(0);t.setSeconds(e);var a=t.toISOString().substr(11,8);return a}(t.length)}}],q=function(e){var t=e.data,a=e.loading;return r.a.createElement(J,{columns:$,data:t,keyId:"call_id",loading:a})};q.defaultProps={data:[],loading:!1};var Q=q,X=a(175),Y=a(173),Z=function(e){var t=e.children,a=e.variant,n=e.onClose;return r.a.createElement(Y.a,{elevation:6,variant:"filled",severity:a,onClose:n},t)},ee=function(e){var t=e.handleClose,a=e.open,n=e.variant,o=e.content;return r.a.createElement(X.a,{open:a,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(Z,{onClose:t,variant:n},o))};ee.defaultProps={open:!1,handleClose:function(){},variant:"success",content:r.a.createElement("div",null)},Z.defaultProps={children:r.a.createElement("div",null),variant:"success",onClose:function(){}};var te=ee,ae={box:{margin:"20px"}},ne=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleSnackbarClose=function(){n.setState((function(e){var t=e.snackbar;return{snackbar:Object(g.a)({},t,{open:!1})}}))},n.state={loadingFetch:!1,snackbar:{type:"success",text:"",open:!1}},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchMessages;this.setState({loadingFetch:!0}),t().then((function(){e.setState({loadingFetch:!1,snackbar:{type:"success",text:"Messages retrieved",open:!0}})})).catch((function(){e.setState({loadingFetch:!1,snackbar:{type:"error",text:"Error retrieving messages",open:!0}})}))}},{key:"render",value:function(){var e=this.props.messages,t=this.state,a=t.loadingFetch,n=t.snackbar;return r.a.createElement("div",null,r.a.createElement(x,{title:"VoiceMail Messages"}),r.a.createElement(E.a,{component:"div",style:ae.box},r.a.createElement(Q,{data:e,loading:a})),r.a.createElement(te,{open:n.open,content:n.text,variant:n.type,handleClose:this.handleSnackbarClose}))}}]),a}(n.Component),re=Object(c.b)((function(e){return{messages:Object(m.values)(e.VoiceMailReducer.messages)}}),(function(e){return{fetchMessages:function(){return e((function(e){return s.a.get("/api/accounts/messages").then((function(t){var a=Object(m.keyBy)(t.data.data,"call_id");return e({type:"FETCH_MESSAGES",payload:a}),a}))}))}}}))(ne),oe=function(){return r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",component:re})))},le=a(21),ce=a(60),ie=(a(84),{messages:{}}),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"FETCH_MESSAGES"===a?Object(g.a)({},e,{messages:n}):e},ue=Object(le.combineReducers)({VoiceMailReducer:se}),de=Object(le.createStore)(ue,Object(le.compose)(Object(le.applyMiddleware)(ce.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.defaults.baseURL="",l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:de},r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(125)}},[[97,1,2]]]);
//# sourceMappingURL=main.8d7817dc.chunk.js.map